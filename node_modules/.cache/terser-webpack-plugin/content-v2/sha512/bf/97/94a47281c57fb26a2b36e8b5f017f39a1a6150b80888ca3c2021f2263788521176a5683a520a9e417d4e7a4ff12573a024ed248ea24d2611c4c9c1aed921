{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4a49da5e\"],{\"38a4\":function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticStyle:{margin:\"20px\"}},[a(\"el-form\",[a(\"el-form-item\",[a(\"el-button\",{staticClass:\"el-icon-plus\",attrs:{type:\"primary\"},on:{click:e.handleCreateButton}},[e._v(\"新增卡片\")])],1)],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],ref:\"filterTable\",staticStyle:{width:\"100%\"},attrs:{data:e.navs}},[a(\"el-table-column\",{attrs:{prop:\"id\",label:\"ID\",width:\"60\"}}),a(\"el-table-column\",{attrs:{prop:\"name\",label:\"Name\"}}),a(\"el-table-column\",{attrs:{prop:\"url\",label:\"所属分类\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",[e._v(e._s(t.row.kind.name))])]}}])}),a(\"el-table-column\",{attrs:{prop:\"url\",label:\"链接\",\"show-overflow-tooltip\":\"\"}}),a(\"el-table-column\",{attrs:{prop:\"state\",label:\"状态\",width:\"100\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-tag\",{attrs:{type:1===t.row.state?\"success\":\"danger\",\"disable-transitions\":\"\"}},[1===t.row.state?a(\"span\",[e._v(\" 使用中 \")]):a(\"span\",[e._v(\" 已下架 \")])])]}}])}),a(\"el-table-column\",{attrs:{prop:\"recommend\",label:\"是否推荐\",width:\"100\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-tag\",{attrs:{type:1===t.row.recommend?\"success\":\"info\",\"disable-transitions\":\"\"}},[1===t.row.recommend?a(\"span\",[e._v(\" 推荐 \")]):a(\"span\",[e._v(\" 未推荐 \")])])]}}])}),a(\"el-table-column\",{attrs:{prop:\"sort\",label:\"排序\",width:\"100\"}}),a(\"el-table-column\",{attrs:{label:\"编辑\",width:\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{staticStyle:{\"margin-right\":\"10px\"},attrs:{type:\"primary\",icon:\"el-icon-edit\",circle:\"\"},on:{click:function(a){return e.handleEditButton(t.row)}}}),1===t.row.state?a(\"el-popconfirm\",{attrs:{title:\"确定删除吗？\"},on:{onConfirm:function(a){return e.handleDeleteButton(t.row)}}},[a(\"el-button\",{attrs:{slot:\"reference\",type:\"danger\",icon:\"el-icon-delete\",circle:\"\"},slot:\"reference\"})],1):a(\"el-popconfirm\",{attrs:{title:\"确定上架吗？\"},on:{onConfirm:function(a){return e.handleDeleteButton(t.row)}}},[a(\"el-button\",{attrs:{slot:\"reference\",type:\"success\",icon:\"el-icon-check\",circle:\"\"},slot:\"reference\"})],1)]}}])})],1),a(\"el-dialog\",{attrs:{visible:e.dialogVisible,width:\"50%\",\"before-close\":e.resetDialog},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[a(\"el-form\",{attrs:{\"label-position\":\"right\",\"label-width\":\"80px\",model:e.editNav}},[a(\"el-form-item\",{attrs:{label:\"名称\"}},[a(\"el-input\",{attrs:{placeholder:\"\"},model:{value:e.editNav.name,callback:function(t){e.$set(e.editNav,\"name\",t)},expression:\"editNav.name\"}})],1),a(\"el-form-item\",{attrs:{label:\"卡片链接\"}},[a(\"el-input\",{attrs:{placeholder:\"\"},model:{value:e.editNav.url,callback:function(t){e.$set(e.editNav,\"url\",t)},expression:\"editNav.url\"}})],1),a(\"el-form-item\",{attrs:{label:\"图片链接\"}},[a(\"el-input\",{attrs:{placeholder:\"\"},model:{value:e.editNav.img,callback:function(t){e.$set(e.editNav,\"img\",t)},expression:\"editNav.img\"}})],1),a(\"el-form-item\",{attrs:{label:\"简介\"}},[a(\"el-input\",{attrs:{type:\"textarea\",rows:2,placeholder:\"\"},model:{value:e.editNav.desc,callback:function(t){e.$set(e.editNav,\"desc\",t)},expression:\"editNav.desc\"}})],1),a(\"el-form-item\",{attrs:{label:\"分类\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.editNav.kind_id,callback:function(t){e.$set(e.editNav,\"kind_id\",t)},expression:\"editNav.kind_id\"}},e._l(e.kinds,(function(e){return a(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)]}}])}),a(\"el-form-item\",{attrs:{label:\"是否推荐\"}},[a(\"el-radio\",{attrs:{label:0},model:{value:e.editNav.recommend,callback:function(t){e.$set(e.editNav,\"recommend\",t)},expression:\"editNav.recommend\"}},[e._v(\"不推荐\")]),a(\"el-radio\",{attrs:{label:1},model:{value:e.editNav.recommend,callback:function(t){e.$set(e.editNav,\"recommend\",t)},expression:\"editNav.recommend\"}},[e._v(\"推荐\")])],1),a(\"el-form-item\",{attrs:{label:\"排序\"}},[a(\"el-input\",{attrs:{type:\"number\"},model:{value:e.editNav.sort,callback:function(t){e.$set(e.editNav,\"sort\",t)},expression:\"editNav.sort\"}})],1)],1),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:e.resetDialog}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.handleDoneButton}},[e._v(\"确 定\")])],1)],1)],1)},i=[],l=(a(\"b0c0\"),a(\"821d\")),o={name:\"Nav\",data:function(){return{nav:{},navs:[],kinds:[],dialogVisible:!1,loading:!1,editNav:{name:\"\",url:\"\",img:\"\",desc:\"\",kind_id:void 0,recommend:0,sort:0}}},mounted:function(){this._requestNavs()},methods:{_request_kinds:function(){var e=this;l[\"a\"].get_kind().then((function(t){var a=t.data,n=t.code;200===n&&(e.kinds=a),e.loading=!1}))},_requestNavs:function(){var e=this;this.loading=!0,l[\"a\"].get_navs().then((function(t){var a=t.data;e.navs=a,e.loading=!1}))},_request_update:function(){var e=this;l[\"a\"].update_nav(this.editNav).then((function(t){var a=t.code;200===a&&(e.$notify({title:\"成功\",message:\"更新成功\",type:\"success\"}),e._requestNavs(),e.resetDialog())}))},_request_create:function(){var e=this;l[\"a\"].create_nav(this.editNav).then((function(t){var a=t.code;200===a&&(e.$notify({title:\"成功\",message:\"创建成功\",type:\"success\"}),e._requestNavs(),e.resetDialog())}))},_request_delete:function(e){var t=this;setTimeout((function(){l[\"a\"].delete_nav(e).then((function(e){var a=e.code;200===a&&(t.$notify({title:\"成功\",message:\"执行成功\",type:\"success\"}),t._requestNavs(),t.resetDialog())}))}),50)},handleDoneButton:function(){\"\"===this.editNav.name||\"\"===this.editNav.sort||\"\"===this.editNav.url||\"\"===this.editNav.img||void 0===this.editNav.kind_id?this.$notify({title:\"失败\",message:\"请完善信息\",type:\"warning\"}):this.editNav.hasOwnProperty(\"id\")?this._request_update():this._request_create()},handleCreateButton:function(){this._request_kinds(),this.dialogVisible=!0},handleEditButton:function(e){this._request_kinds(),this.dialogVisible=!0,this.editNav=JSON.parse(JSON.stringify(e))},handleDeleteButton:function(e){this._request_delete(e),this._requestNavs()},resetDialog:function(){this.dialogVisible=!1,this.editNav={name:\"\",url:\"\",img:\"\",desc:\"\",kind_id:void 0,recommend:0,sort:0}}}},r=o,s=a(\"2877\"),d=Object(s[\"a\"])(r,n,i,!1,null,\"9adf675c\",null);t[\"default\"]=d.exports},\"821d\":function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return m}));var n=a(\"b775\");function i(e){return Object(n[\"a\"])({url:\"/navigation\",method:\"post\",data:e})}function l(e){return Object(n[\"a\"])({url:\"/navigation\",method:\"put\",data:e})}function o(e){return Object(n[\"a\"])({url:\"/navigation\",method:\"delete\",data:e})}function r(){return Object(n[\"a\"])({url:\"/navigation\",method:\"get\"})}function s(){return Object(n[\"a\"])({url:\"/navigations\",method:\"get\"})}function d(e){return Object(n[\"a\"])({url:\"/kind\",method:\"post\",data:e})}function c(e){return Object(n[\"a\"])({url:\"/kind\",method:\"put\",data:e})}function u(e){return Object(n[\"a\"])({url:\"/kind\",method:\"delete\",data:e})}function v(){return Object(n[\"a\"])({url:\"/kind\",method:\"get\"})}var m={create_nav:i,update_nav:l,delete_nav:o,get_nav:r,get_navs:s,create_kind:d,update_kind:c,delete_kind:u,get_kind:v}}}]);","extractedComments":[]}