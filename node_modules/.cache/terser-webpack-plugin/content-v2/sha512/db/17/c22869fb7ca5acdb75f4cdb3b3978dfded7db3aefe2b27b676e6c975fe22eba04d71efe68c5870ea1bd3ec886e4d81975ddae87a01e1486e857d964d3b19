{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-c2fafc4e\"],{\"821d\":function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return p}));var i=n(\"b775\");function a(t){return Object(i[\"a\"])({url:\"/navigation\",method:\"post\",data:t})}function o(t){return Object(i[\"a\"])({url:\"/navigation\",method:\"put\",data:t})}function r(t){return Object(i[\"a\"])({url:\"/navigation\",method:\"delete\",data:t})}function l(){return Object(i[\"a\"])({url:\"/navigation\",method:\"get\"})}function s(){return Object(i[\"a\"])({url:\"/navigations\",method:\"get\"})}function d(t){return Object(i[\"a\"])({url:\"/kind\",method:\"post\",data:t})}function u(t){return Object(i[\"a\"])({url:\"/kind\",method:\"put\",data:t})}function c(t){return Object(i[\"a\"])({url:\"/kind\",method:\"delete\",data:t})}function f(){return Object(i[\"a\"])({url:\"/kind\",method:\"get\"})}var p={create_nav:a,update_nav:o,delete_nav:r,get_nav:l,get_navs:s,create_kind:d,update_kind:u,delete_kind:c,get_kind:f}},b818:function(t,e,n){\"use strict\";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticStyle:{margin:\"20px\"}},[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleCreateButton}},[t._v(\" 创建分类 \")]),n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],ref:\"filterTable\",staticStyle:{width:\"100%\"},attrs:{data:t.kinds}},[n(\"el-table-column\",{attrs:{prop:\"id\",label:\"ID\",width:\"60\"}}),n(\"el-table-column\",{attrs:{prop:\"name\",label:\"Name\"}}),n(\"el-table-column\",{attrs:{prop:\"state\",label:\"状态\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-tag\",{attrs:{type:1===e.row.state?\"success\":\"danger\",\"disable-transitions\":\"\"}},[1===e.row.state?n(\"span\",[t._v(\" 使用中 \")]):n(\"span\",[t._v(\" 已下架 \")])])]}}])}),n(\"el-table-column\",{attrs:{prop:\"sort\",label:\"排序\"}}),n(\"el-table-column\",{attrs:{label:\"编辑\",width:\"120\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-button\",{staticStyle:{\"margin-right\":\"10px\"},attrs:{type:\"primary\",icon:\"el-icon-edit\",circle:\"\"},on:{click:function(n){return t.handleEditButton(e.row)}}}),1===e.row.state?n(\"el-popconfirm\",{attrs:{title:\"确定删除吗？\"},on:{onConfirm:function(n){return t.handleDeleteButton(e.row)}}},[n(\"el-button\",{attrs:{slot:\"reference\",type:\"danger\",icon:\"el-icon-delete\",circle:\"\"},slot:\"reference\"})],1):n(\"el-popconfirm\",{attrs:{title:\"确定上架吗？\"},on:{onConfirm:function(n){return t.handleDeleteButton(e.row)}}},[n(\"el-button\",{attrs:{slot:\"reference\",type:\"success\",icon:\"el-icon-check\",circle:\"\"},slot:\"reference\"})],1)]}}])})],1),n(\"el-dialog\",{attrs:{visible:t.dialogVisible,width:\"40%\",\"before-close\":t.resetDialog},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[n(\"el-form\",{attrs:{\"label-position\":\"right\",\"label-width\":\"80px\",model:t.editKind}},[n(\"el-form-item\",{attrs:{label:\"名称\"}},[n(\"el-input\",{attrs:{placeholder:\"使用英文，若有多个英文使用驼峰命名\"},model:{value:t.editKind.name,callback:function(e){t.$set(t.editKind,\"name\",e)},expression:\"editKind.name\"}})],1),n(\"el-form-item\",{attrs:{label:\"排序\"}},[n(\"el-input\",{attrs:{type:\"number\"},model:{value:t.editKind.sort,callback:function(e){t.$set(t.editKind,\"sort\",e)},expression:\"editKind.sort\"}})],1)],1),n(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:t.resetDialog}},[t._v(\"取 消\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleDoneButton}},[t._v(\"确 定\")])],1)],1)],1)},a=[],o=(n(\"b0c0\"),n(\"821d\")),r={name:\"Kind\",data:function(){return{kind:{},kinds:[],dialogVisible:!1,loading:!1,editKind:{name:\"\",sort:0}}},mounted:function(){this._request_get()},methods:{_request_get:function(){var t=this;this.loading=!0,setTimeout((function(){o[\"a\"].get_kind().then((function(e){var n=e.data,i=e.code;200===i&&(t.kinds=n),t.loading=!1}))}),500)},_request_create:function(){var t=this;setTimeout((function(){o[\"a\"].create_kind(t.editKind).then((function(e){var n=e.code;200===n&&(t.$notify({title:\"成功\",message:\"创建成功\",type:\"success\"}),t._request_get(),t.resetDialog())}))}),50)},_request_update:function(){var t=this;setTimeout((function(){o[\"a\"].update_kind(t.editKind).then((function(e){var n=e.code;200===n&&(t.$notify({title:\"成功\",message:\"更新成功\",type:\"success\"}),t._request_get(),t.resetDialog())}))}),50)},_request_delete:function(t){var e=this;setTimeout((function(){o[\"a\"].delete_kind(t).then((function(t){var n=t.code;200===n&&(e.$notify({title:\"成功\",message:\"删除成功\",type:\"success\"}),e._request_get(),e.resetDialog())}))}),50)},handleCreateButton:function(){this.dialogVisible=!0},handleEditButton:function(t){this.dialogVisible=!0,this.editKind=JSON.parse(JSON.stringify(t))},handleDeleteButton:function(t){this._request_delete(t),this._request_get()},handleDoneButton:function(){\"\"===this.editKind.name||\"\"===this.editKind.sort?this.$notify({title:\"失败\",message:\"请完善信息\",type:\"warning\"}):this.editKind.hasOwnProperty(\"id\")?this._request_update():this._request_create()},resetDialog:function(){this.dialogVisible=!1,this.editKind={name:\"\",sort:0}}}},l=r,s=n(\"2877\"),d=Object(s[\"a\"])(l,i,a,!1,null,\"62213a9a\",null);e[\"default\"]=d.exports}}]);","extractedComments":[]}