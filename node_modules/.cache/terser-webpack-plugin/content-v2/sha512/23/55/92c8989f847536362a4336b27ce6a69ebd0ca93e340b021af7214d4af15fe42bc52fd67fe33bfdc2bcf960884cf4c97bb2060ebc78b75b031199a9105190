{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a8a2eb08\"],{1210:function(e,t,a){},\"183e\":function(e,t,a){\"use strict\";a(\"8fb3\")},\"229e\":function(e,t,a){e.exports=a.p+\"static/img/BLCT.2dfffeef.png\"},\"3eb7\":function(e,t,a){\"use strict\";a(\"1210\")},\"4bd9\":function(e,t,a){},\"5e5d\":function(e,t,a){\"use strict\";a(\"4bd9\")},\"7d78\":function(e,t,a){\"use strict\";a.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",{staticClass:\"dashboard-container\"},[o(\"el-card\",{staticClass:\"box-card\"},[o(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[o(\"el-page-header\",{attrs:{content:e.toolParams.name,title:\"返回\"},on:{back:e.goBack}})],1),o(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticClass:\"main\"},[o(\"v-tip\",[o(\"span\",{domProps:{innerHTML:e._s(e.toolParams.describe)}})]),o(\"el-form\",{attrs:{\"label-width\":\"auto\",\"label-position\":\"left\"},model:{value:e.toolParams.params,callback:function(t){e.$set(e.toolParams,\"params\",t)},expression:\"toolParams.params\"}},[o(\"el-row\",e._l(e.toolParams.params,(function(t,a){return o(\"span\",{key:a},[o(\"el-col\",{attrs:{span:12}},[\"string\"===t.type.value?o(\"el-form-item\",{attrs:{label:t.name}},[o(\"el-input\",{attrs:{placeholder:t.placeholder},model:{value:t.default,callback:function(a){e.$set(t,\"default\",a)},expression:\"item.default\"}})],1):e._e()],1),o(\"el-col\",{attrs:{span:24}},[\"areatext\"===t.type.value?o(\"el-form-item\",{attrs:{label:t.name}},[o(\"el-input\",{attrs:{type:\"textarea\",rows:2,placeholder:t.placeholder,width:\"100%\"},model:{value:t.default,callback:function(a){e.$set(t,\"default\",a)},expression:\"item.default\"}})],1):e._e()],1),o(\"el-col\",{attrs:{span:12}},[\"number\"===t.type.value?o(\"el-form-item\",{attrs:{label:t.name}},[o(\"el-input-number\",{attrs:{placeholder:t.placeholder},model:{value:t.default,callback:function(a){e.$set(t,\"default\",a)},expression:\"item.default\"}})],1):e._e()],1),o(\"el-col\",{attrs:{span:12}},[\"boolean\"===t.type.value?o(\"el-form-item\",{attrs:{label:t.name}},[o(\"el-switch\",{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:t.default,callback:function(a){e.$set(t,\"default\",a)},expression:\"item.default\"}})],1):e._e()],1),o(\"el-col\",{attrs:{span:12}},[\"time\"===t.type.value?o(\"el-form-item\",{attrs:{label:t.name}},[o(\"el-date-picker\",{attrs:{type:\"datetime\",\"value-format\":\"yyyy-MM-dd hh:mm:ss\",placeholder:t.placeholder},model:{value:t.default,callback:function(a){e.$set(t,\"default\",a)},expression:\"item.default\"}})],1):e._e()],1),o(\"el-col\",{attrs:{span:24}},[\"radio\"===t.type.value?o(\"el-form-item\",{attrs:{label:t.name}},e._l(t.select,(function(a,r){return o(\"span\",{key:r,staticStyle:{\"margin-right\":\"5px\"}},[o(\"el-radio\",{attrs:{label:a,border:\"\"},model:{value:t.default,callback:function(a){e.$set(t,\"default\",a)},expression:\"item.default\"}},[e._v(e._s(a))])],1)})),0):e._e()],1),o(\"el-col\",{attrs:{span:24}},[\"checkbox\"===t.type.value?o(\"el-form-item\",{attrs:{label:t.name}},[o(\"el-checkbox-group\",{model:{value:t.default,callback:function(a){e.$set(t,\"default\",a)},expression:\"item.default\"}},e._l(t.select,(function(e,t){return o(\"span\",{key:t,staticStyle:{\"margin-right\":\"5px\"}},[o(\"el-checkbox\",{attrs:{label:e,border:\"\"}})],1)})),0)],1):e._e()],1),o(\"el-col\",{attrs:{span:12}},[\"dropdown\"===t.type.value?o(\"el-form-item\",{attrs:{label:t.name}},[o(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:t.default,callback:function(a){e.$set(t,\"default\",a)},expression:\"item.default\"}},e._l(t.select,(function(e,t){return o(\"el-option\",{key:t,attrs:{label:e,value:e}})})),1)],1):e._e()],1)],1)})),0)],1),o(\"el-form\",{attrs:{inline:\"\"},model:{value:e.toolParams.function_meta,callback:function(t){e.$set(e.toolParams,\"function_meta\",t)},expression:\"toolParams.function_meta\"}},e._l(e.toolParams.function_meta,(function(t,a){return o(\"el-form-item\",{key:a},[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(a){return e.handleFun(t)}}},[e._v(e._s(t.name))])],1)})),1),null!==e.result?o(\"v-jsoneditor\",{attrs:{options:e.options,height:\"600px\"},model:{value:e.result,callback:function(t){e.result=t},expression:\"result\"}}):e._e()],1),o(\"div\",{staticClass:\"rf\"},[e._t(\"rf\"),o(\"router-link\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"editor\"],expression:\"['admin', 'editor']\"}],attrs:{to:{name:\"EditTool\",params:{id:e.toolParams.id}}}},[o(\"el-button\",{directives:[{name:\"permission\",rawName:\"v-permission\",value:[\"admin\",\"editor\"],expression:\"['admin', 'editor']\"}],staticClass:\"el-icon-edit\",staticStyle:{width:\"90%\",\"margin-bottom\":\"10px\"},attrs:{type:\"success\"}},[e._v(\" 在线编辑 \")])],1),o(\"img\",{attrs:{src:a(\"229e\")}}),o(\"div\",{staticClass:\"note\"},[o(\"div\",{staticClass:\"note-container\"},[e._v(\" \"+e._s(e.wisdom)+\" \")]),o(\"div\",{staticClass:\"note-bottom\"})]),o(\"div\",{staticClass:\"inner\"},[o(\"div\",{staticClass:\"panel\"},[o(\"div\",{staticClass:\"panel-heading\"},[e._v(\"浏览记录\")]),o(\"div\",{staticClass:\"panel-body\"},e._l(e.viewer,(function(t){return o(\"ul\",{key:t.id,staticClass:\"box-list\"},[o(\"li\",[o(\"a\",{attrs:{title:t.create_time+\"【\"+t.user.name+\"】\"}},[o(\"span\",{staticClass:\"title\"},[e._v(e._s(t.create_time)+\"【\"+e._s(t.user.name)+\"】\")])])])])})),0)])])],2)])],1)},r=[],n=(a(\"4160\"),a(\"b0c0\"),a(\"159b\"),a(\"96cf\"),a(\"1da1\")),i=a(\"81d6\"),s=a(\"c1ab\"),l=a(\"b775\");function c(e){return Object(l[\"a\"])({url:\"/wisdom\",method:\"post\",data:{text:e}})}function u(){return Object(l[\"a\"])({url:\"/wisdom\",method:\"get\"})}var d={create_wisdom:c,get_wisdom:u};function m(e){return Object(l[\"a\"])({url:\"/visit\",method:\"post\",data:{tool_id:e}})}function f(e){return Object(l[\"a\"])({url:\"/visit\",method:\"get\",params:{tool_id:e}})}function p(e){return Object(l[\"a\"])({url:\"/viewer\",method:\"get\",params:{tool_id:e}})}var v={create_visit:m,get_visit:f,get_viewer:p};function _(e,t,a){return Object(l[\"a\"])({url:\"/launch\",method:\"post\",data:{tool_id:e,variables:t,params:a}})}var b={run:_},h=(a(\"caad\"),a(\"45fc\"),a(\"2532\"),a(\"4360\"));function g(e,t){var a=t.value,o=h[\"a\"].getters&&h[\"a\"].getters.roles;if(!(a&&a instanceof Array))throw new Error(\"need roles! Like v-permission=\\\"['admin','editor']\\\"\");if(a.length>0){var r=a,n=o.some((function(e){return r.includes(e)}));n||e.parentNode&&e.parentNode.removeChild(e)}}var w={inserted:function(e,t){g(e,t)},update:function(e,t){g(e,t)}},x=function(e){e.directive(\"permission\",w)};window.Vue&&(window[\"permission\"]=w,Vue.use(x)),w.install=x;var k=w,y={name:\"Tool\",directives:{permission:k},components:{\"v-tip\":i[\"a\"]},data:function(){return{loading:!1,toolID:0,toolParams:{},result:null,wisdom:\"\",viewer:[],options:{mode:\"code\",indentation:4}}},created:function(){this.toolID=this.$route.params.id,this._request_tool(),this._request_wisdom(),this._request_get_viewer(),this._request_create_visit()},methods:{goBack:function(){this.$router.back()},handleFun:function(e){var t={},a={},o=[];this.toolParams.params.forEach((function(e){t[e.varName]=e.default})),a[e.name]=e.script,o.push(a),this._request_run(t,o)},_request_tool:function(){var e=this;return Object(n[\"a\"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,s[\"a\"].get_tool(e.toolID).then((function(t){var a=t.code,o=t.extra;200===a&&(e.toolParams=o,e.loading=!1)}));case 2:case\"end\":return t.stop()}}),t)})))()},_request_wisdom:function(){var e=this;d.get_wisdom().then((function(t){var a=t.code,o=t.extra;200===a&&(e.wisdom=o.text)}))},_request_get_viewer:function(){var e=this;v.get_viewer(this.toolID).then((function(t){var a=t.code,o=t.data;200===a&&(e.viewer=o)}))},_request_create_visit:function(){v.create_visit(this.toolID)},_request_run:function(e,t){var a=this;b.run(this.toolID,e,t).then((function(e){var t=e.code,o=e.message,r=e.data;200===t&&(\"无响应信息\"===o?a.$notify({title:\"成功\",message:o,type:\"success\"}):a.result=r)}))}}},C=y,j=(a(\"3eb7\"),a(\"d047\"),a(\"5e5d\"),a(\"2877\")),P=Object(j[\"a\"])(C,o,r,!1,null,\"8fa7138a\",null);t[\"default\"]=P.exports},\"81d6\":function(e,t,a){\"use strict\";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"tip\"},[a(\"p\",[e._t(\"default\")],2)])},r=[],n={name:\"Tip\"},i=n,s=(a(\"183e\"),a(\"2877\")),l=Object(s[\"a\"])(i,o,r,!1,null,\"733c2735\",null);t[\"a\"]=l.exports},\"83db\":function(e,t,a){},\"8fb3\":function(e,t,a){},c1ab:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return c}));var o=a(\"b775\");function r(e){return Object(o[\"a\"])({url:\"/tool\",method:\"post\",data:e})}function n(e){return Object(o[\"a\"])({url:\"/tool\",method:\"put\",data:e})}function i(e){return Object(o[\"a\"])({url:\"/tool\",method:\"delete\",data:{id:e}})}function s(e){return Object(o[\"a\"])({url:\"/tool\",method:\"get\",params:{tool_id:e}})}function l(e){return Object(o[\"a\"])({url:\"/tools\",method:\"get\",params:e})}var c={create_tool:r,update_tool:n,delete_tool:i,get_tool:s,get_tools:l}},d047:function(e,t,a){\"use strict\";a(\"83db\")}}]);","extractedComments":[]}