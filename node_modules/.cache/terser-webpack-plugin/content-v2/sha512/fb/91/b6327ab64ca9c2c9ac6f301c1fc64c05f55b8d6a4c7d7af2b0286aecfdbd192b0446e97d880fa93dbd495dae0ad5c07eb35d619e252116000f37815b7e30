{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-57ebd427\"],{\"24d2\":function(e,t,o){\"use strict\";o.d(t,\"a\",(function(){return c}));var r=o(\"b775\");function n(e){return Object(r[\"a\"])({url:\"/project\",method:\"post\",data:e})}function i(e){return Object(r[\"a\"])({url:\"/project\",method:\"put\",data:e})}function a(e){return Object(r[\"a\"])({url:\"/project\",method:\"delete\",data:e})}function l(){return Object(r[\"a\"])({url:\"/project\",method:\"get\"})}var c={create_project:n,update_project:i,delete_project:a,get_project:l}},\"8b19\":function(e,t,o){\"use strict\";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",{staticStyle:{margin:\"20px\"}},[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.handleCreateButton}},[e._v(\" 创建项目分类 \")]),o(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],ref:\"filterTable\",staticStyle:{width:\"100%\"},attrs:{data:e.projects}},[o(\"el-table-column\",{attrs:{prop:\"id\",label:\"ID\",width:\"60\"}}),o(\"el-table-column\",{attrs:{prop:\"name\",label:\"Name\"}}),o(\"el-table-column\",{attrs:{prop:\"label\",label:\"Label\"}}),o(\"el-table-column\",{attrs:{prop:\"state\",label:\"状态\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"el-tag\",{attrs:{type:1===t.row.state?\"success\":\"danger\",\"disable-transitions\":\"\"}},[1===t.row.state?o(\"span\",[e._v(\" 使用中 \")]):o(\"span\",[e._v(\" 已下架 \")])])]}}])}),o(\"el-table-column\",{attrs:{prop:\"sort\",label:\"排序\"}}),o(\"el-table-column\",{attrs:{label:\"编辑\",width:\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"el-button\",{staticStyle:{\"margin-right\":\"10px\"},attrs:{type:\"primary\",icon:\"el-icon-edit\",circle:\"\"},on:{click:function(o){return e.handleEditButton(t.row)}}}),1===t.row.state?o(\"el-popconfirm\",{attrs:{title:\"确定删除吗？\"},on:{onConfirm:function(o){return e.handleDeleteButton(t.row)}}},[o(\"el-button\",{attrs:{slot:\"reference\",type:\"danger\",icon:\"el-icon-delete\",circle:\"\"},slot:\"reference\"})],1):o(\"el-popconfirm\",{attrs:{title:\"确定上架吗？\"},on:{onConfirm:function(o){return e.handleDeleteButton(t.row)}}},[o(\"el-button\",{attrs:{slot:\"reference\",type:\"success\",icon:\"el-icon-check\",circle:\"\"},slot:\"reference\"})],1)]}}])})],1),o(\"el-dialog\",{attrs:{visible:e.dialogVisible,width:\"40%\",\"before-close\":e.resetDialog},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[o(\"el-form\",{attrs:{\"label-position\":\"right\",\"label-width\":\"80px\",model:e.editProject}},[o(\"el-form-item\",{attrs:{label:\"Name\"}},[o(\"el-input\",{attrs:{placeholder:\"使用英文，若有多个英文使用驼峰命名\"},model:{value:e.editProject.name,callback:function(t){e.$set(e.editProject,\"name\",t)},expression:\"editProject.name\"}})],1),o(\"el-form-item\",{attrs:{label:\"标签名\"}},[o(\"el-input\",{attrs:{placeholder:\"在工具列表顶部分类展示的文案\"},model:{value:e.editProject.label,callback:function(t){e.$set(e.editProject,\"label\",t)},expression:\"editProject.label\"}})],1),o(\"el-form-item\",{attrs:{label:\"排序\"}},[o(\"el-input\",{attrs:{type:\"number\"},model:{value:e.editProject.sort,callback:function(t){e.$set(e.editProject,\"sort\",t)},expression:\"editProject.sort\"}})],1)],1),o(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{on:{click:e.resetDialog}},[e._v(\"取 消\")]),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.handleDoneButton}},[e._v(\"确 定\")])],1)],1)],1)},n=[],i=(o(\"b0c0\"),o(\"24d2\")),a={name:\"Project\",data:function(){return{project:{},projects:[],dialogVisible:!1,loading:!1,editProject:{name:\"\",label:\"\",sort:0}}},mounted:function(){this._request_get_project()},methods:{_request_get_project:function(){var e=this;this.loading=!0,setTimeout((function(){i[\"a\"].get_project().then((function(t){var o=t.data,r=t.code;200===r&&(e.projects=o),e.loading=!1}))}),500)},_request_create_project:function(){var e=this;setTimeout((function(){i[\"a\"].create_project(e.editProject).then((function(t){var o=t.code;200===o&&(e.$notify({title:\"成功\",message:\"创建成功\",type:\"success\"}),e._request_get_project(),e.resetDialog())}))}),50)},_request_update_project:function(){var e=this;setTimeout((function(){i[\"a\"].update_project(e.editProject).then((function(t){var o=t.code;200===o&&(e.$notify({title:\"成功\",message:\"更新成功\",type:\"success\"}),e._request_get_project(),e.resetDialog())}))}),50)},_request_delete_project:function(e){var t=this;setTimeout((function(){i[\"a\"].delete_project(e).then((function(e){var o=e.code;200===o&&(t.$notify({title:\"成功\",message:\"删除成功\",type:\"success\"}),t._request_get_project(),t.resetDialog())}))}),50)},handleCreateButton:function(){this.dialogVisible=!0},handleEditButton:function(e){this.dialogVisible=!0,this.editProject=JSON.parse(JSON.stringify(e))},handleDeleteButton:function(e){this._request_delete_project(e),this._request_get_project()},handleDoneButton:function(){\"\"===this.editProject.name||\"\"===this.editProject.label||\"\"===this.editProject.sort?this.$notify({title:\"失败\",message:\"请完善信息\",type:\"warning\"}):this.editProject.hasOwnProperty(\"id\")?this._request_update_project():this._request_create_project()},resetDialog:function(){this.dialogVisible=!1,this.editProject={name:\"\",label:\"\",sort:0}}}},l=a,c=o(\"2877\"),s=Object(c[\"a\"])(l,r,n,!1,null,\"cf5ee3be\",null);t[\"default\"]=s.exports}}]);","extractedComments":[]}