{"remainingRequest":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/babel-loader/lib/index.js!/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mengdegong/Desktop/blued/new/vue-element-admin/src/views/tools/components/EditPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/src/views/tools/components/EditPage.vue","mtime":1610346198618},{"path":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFdhcm5pbmcgZnJvbSAnLi9XYXJuaW5nJzsKaW1wb3J0IE9wZXJhdGVEcm9wZG93biBmcm9tICcuL0Ryb3Bkb3duL09wZXJhdGUnOwppbXBvcnQgQWNlQ29kZSBmcm9tICdAL2NvbXBvbmVudHMvQUNFQ29kZSc7CmltcG9ydCBNRGlucHV0IGZyb20gJ0AvY29tcG9uZW50cy9NRGlucHV0JzsKaW1wb3J0IFN0aWNreSBmcm9tICdAL2NvbXBvbmVudHMvU3RpY2t5JzsgLy8g57KY5oCnaGVhZGVy57uE5Lu2Ci8vIGltcG9ydCBkcmFnZ2FibGUgZnJvbSAndnVlZHJhZ2dhYmxlJwoKaW1wb3J0IHsgdmFsaWRVUkwgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJzsKdmFyIGRlZmF1bHRGb3JtID0gewogIHN0YXR1czogJ2RyYWZ0JywKICB0aXRsZTogJycsCiAgLy8g5paH56ug6aKY55uuCiAgY29udGVudF9zaG9ydDogJycsCiAgLy8g5paH56ug5pGY6KaBCiAgaW1hZ2VfdXJpOiAnJywKICAvLyDmlofnq6Dlm77niYcKICBkaXNwbGF5X3RpbWU6IHVuZGVmaW5lZCwKICAvLyDliY3lj7DlsZXnpLrml7bpl7QKICBpZDogdW5kZWZpbmVkLAogIHBsYXRmb3JtczogWydSZWRpcyddLAogIHZhcnM6IFt7CiAgICBuYW1lOiAndmFyMScKICB9XSwKICBpbXBvcnRhbmNlOiAwCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVG9vbEVkaXQnLAogIGNvbXBvbmVudHM6IHsKICAgIFdhcm5pbmc6IFdhcm5pbmcsCiAgICBNRGlucHV0OiBNRGlucHV0LAogICAgQWNlQ29kZTogQWNlQ29kZSwKICAgIFN0aWNreTogU3RpY2t5LAogICAgT3BlcmF0ZURyb3Bkb3duOiBPcGVyYXRlRHJvcGRvd24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciB2YWxpZGF0ZVJlcXVpcmUgPSBmdW5jdGlvbiB2YWxpZGF0ZVJlcXVpcmUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiBydWxlLmZpZWxkICsgJ+S4uuW/heS8oOmhuScsCiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CgogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcihydWxlLmZpZWxkICsgJ+S4uuW/heS8oOmhuScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHZhciB2YWxpZGF0ZVNvdXJjZVVyaSA9IGZ1bmN0aW9uIHZhbGlkYXRlU291cmNlVXJpKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUpIHsKICAgICAgICBpZiAodmFsaWRVUkwodmFsdWUpKSB7CiAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICflpJbpk751cmzloavlhpnkuI3mraPnoa4nLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKCiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+WklumTvnVybOWhq+WGmeS4jeato+ehricpKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflm77moIfpk77mjqXkuLrlv4XkvKDpobknKSk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgdmFsdWUxOiB0cnVlLAogICAgICBwb3N0Rm9ybTogT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEZvcm0pLAogICAgICBydWxlczogewogICAgICAgIGltYWdlX3VyaTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVTb3VyY2VVcmkKICAgICAgICB9XSwKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVSZXF1aXJlCiAgICAgICAgfV0sCiAgICAgICAgY29udGVudF9zaG9ydDogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVSZXF1aXJlCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkge30sCiAgICBkcmFmdEZvcm06IGZ1bmN0aW9uIGRyYWZ0Rm9ybSgpIHt9LAogICAgaGFuZGxlQWRkVmFyOiBmdW5jdGlvbiBoYW5kbGVBZGRWYXIoKSB7CiAgICAgIHRoaXMucG9zdEZvcm0udmFycy5wdXNoKHsKICAgICAgICBuYW1lOiAndmFyJyArICh0aGlzLnBvc3RGb3JtLnZhcnMubGVuZ3RoICsgMSkKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRGVsVmFyOiBmdW5jdGlvbiBoYW5kbGVEZWxWYXIoaW5kZXgpIHsKICAgICAgdGhpcy5wb3N0Rm9ybS52YXJzLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgY2hlY2tWYXI6IGZ1bmN0aW9uIGNoZWNrVmFyKHZhbHVlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHJlZyA9IC9eW2EtekEtWl1bYS16QS1aMC05X10qJC87CgogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn5Y+Y6YeP5ZCN56ew5LiN6IO95Li656m6JywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHJlZykudGVzdCh2YWx1ZSkgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WPmOmHj+WQjeensOWPquiDveS4uuaVsOWtl+OAgeWtl+avjeOAgeS4i+WIkue6vycsCiAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9LCAxMDAwKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["EditPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"createPost-container\">\n    <el-form ref=\"postForm\" :model=\"postForm\" :rules=\"rules\" class=\"form-container\">\n\n      <sticky :z-index=\"10\" :class-name=\"'sub-navbar '+postForm.status\">\n        <OperateDropdown v-model=\"postForm.platforms\" />\n        <el-button v-loading=\"loading\" style=\"margin-left: 10px;\" type=\"success\" @click=\"submitForm\">\n          Add Func\n        </el-button>\n        <el-button v-loading=\"loading\" type=\"warning\" @click=\"draftForm\">\n          Save\n        </el-button>\n      </sticky>\n\n      <div class=\"createPost-main-container\">\n        <el-row>\n          <Warning />\n\n          <el-form-item style=\"margin-bottom: 40px;\" prop=\"title\">\n            <MDinput v-model=\"postForm.title\" :maxlength=\"100\" name=\"name\">\n              功能名称\n            </MDinput>\n          </el-form-item>\n\n          <el-form-item prop=\"image_uri\">\n            <el-input v-model=\"postForm.image_uri\" placeholder=\"请输入图标的外链\">\n              <template slot=\"prepend\">\n                图标\n              </template>\n            </el-input>\n          </el-form-item>\n\n          <el-form-item style=\"margin-bottom: 40px;\" prop=\"content_short\">\n            <el-input v-model=\"postForm.content_short\" :rows=\"2\" type=\"textarea\" autosize placeholder=\"请输入功能介绍\" />\n          </el-form-item>\n\n        </el-row>\n\n        <el-form-item>\n          <el-collapse>\n            <el-collapse-item :title=\"'添加变量 ('+ postForm.vars.length+')'\">\n              <el-button style=\"margin-bottom: 15px\" type=\"primary\" @click=\"handleAddVar\">添加变量</el-button>\n              <el-row :gutter=\"20\">\n                <el-col v-for=\"(value,index) in postForm.vars\" :key=\"index\" :span=\"12\">\n                  <el-input\n                    v-model=\"value.name\"\n                    placeholder=\"请定义变量名称\"\n                    clearable\n                    style=\"margin-bottom:10px\"\n                    @change=\"checkVar\"\n                  >\n                    <el-button slot=\"append\" icon=\"el-icon-delete\" @click=\"handleDelVar(index)\" />\n                  </el-input>\n                </el-col>\n              </el-row>\n            </el-collapse-item>\n          </el-collapse>\n        </el-form-item>\n\n        <el-form-item>\n          <el-card body-style=\"min-height:700px;\">\n            <div slot=\"header\">\n              <span>PythonScript</span>\n            </div>\n            <AceCode />\n          </el-card>\n        </el-form-item>\n\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport Warning from './Warning'\nimport OperateDropdown from './Dropdown/Operate'\n\nimport AceCode from '@/components/ACECode'\nimport MDinput from '@/components/MDinput'\nimport Sticky from '@/components/Sticky' // 粘性header组件\n// import draggable from 'vuedraggable'\n\nimport { validURL } from '@/utils/validate'\n\nconst defaultForm = {\n  status: 'draft',\n  title: '', // 文章题目\n  content_short: '', // 文章摘要\n  image_uri: '', // 文章图片\n  display_time: undefined, // 前台展示时间\n  id: undefined,\n  platforms: ['Redis'],\n  vars: [{ name: 'var1' }],\n  importance: 0\n}\n\nexport default {\n  name: 'ToolEdit',\n  components: { Warning, MDinput, AceCode, Sticky, OperateDropdown },\n  data() {\n    const validateRequire = (rule, value, callback) => {\n      if (value === '') {\n        this.$message({\n          message: rule.field + '为必传项',\n          type: 'error'\n        })\n        callback(new Error(rule.field + '为必传项'))\n      } else {\n        callback()\n      }\n    }\n    const validateSourceUri = (rule, value, callback) => {\n      if (value) {\n        if (validURL(value)) {\n          callback()\n        } else {\n          this.$message({\n            message: '外链url填写不正确',\n            type: 'error'\n          })\n          callback(new Error('外链url填写不正确'))\n        }\n      } else {\n        callback(new Error('图标链接为必传项'))\n      }\n    }\n    return {\n      value1: true,\n      postForm: Object.assign({}, defaultForm),\n      rules: {\n        image_uri: [{ validator: validateSourceUri }],\n        title: [{ validator: validateRequire }],\n        content_short: [{ validator: validateRequire }]\n      },\n      loading: false\n    }\n  },\n  methods: {\n    submitForm() {},\n    draftForm() {},\n    handleAddVar() {\n      this.postForm.vars.push({ name: 'var' + (this.postForm.vars.length + 1) })\n    },\n    handleDelVar(index) {\n      this.postForm.vars.splice(index, 1)\n    },\n    checkVar(value) {\n      const reg = /^[a-zA-Z][a-zA-Z0-9_]*$/\n      if (!value) {\n        this.$message({\n          message: '变量名称不能为空',\n          type: 'error'\n        })\n      } else {\n        setTimeout(() => {\n          if (new RegExp(reg).test(value) === false) {\n            this.$message({\n              message: '变量名称只能为数字、字母、下划线',\n              type: 'error'\n            })\n          }\n        }, 1000)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/styles/mixin.scss\";\n\n.createPost-container {\n  position: relative;\n\n  .createPost-main-container {\n    padding: 40px 45px 20px 50px;\n\n    .postInfo-container {\n      position: relative;\n      @include clearfix;\n      margin-bottom: 10px;\n\n      .postInfo-container-item {\n        float: left;\n      }\n    }\n  }\n\n  .word-counter {\n    width: 40px;\n    position: absolute;\n    right: 10px;\n    top: 0px;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/tools/components"}]}