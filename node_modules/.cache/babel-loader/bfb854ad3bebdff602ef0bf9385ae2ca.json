{"remainingRequest":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/babel-loader/lib/index.js!/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mengdegong/Desktop/blued/new/vue-element-admin/src/views/navigation/kind/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/src/views/navigation/kind/index.vue","mtime":1618987169457},{"path":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mengdegong/Desktop/blued/new/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IE5hdmlnYXRpb24gfSBmcm9tICdAL2FwaS9uYXZpZ2F0aW9uJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdLaW5kJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAga2luZDoge30sCiAgICAgIGtpbmRzOiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBlZGl0S2luZDogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHNvcnQ6IDAKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLl9yZXF1ZXN0X2dldCgpOwogIH0sCiAgbWV0aG9kczogewogICAgX3JlcXVlc3RfZ2V0OiBmdW5jdGlvbiBfcmVxdWVzdF9nZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBOYXZpZ2F0aW9uLmdldF9raW5kKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YSwKICAgICAgICAgICAgICBjb2RlID0gcmVzcG9uc2UuY29kZTsKCiAgICAgICAgICBpZiAoY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzLmtpbmRzID0gZGF0YTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0sIDUwMCk7CiAgICB9LAogICAgX3JlcXVlc3RfY3JlYXRlOiBmdW5jdGlvbiBfcmVxdWVzdF9jcmVhdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgTmF2aWdhdGlvbi5jcmVhdGVfa2luZChfdGhpczIuZWRpdEtpbmQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgY29kZSA9IHJlc3BvbnNlLmNvZGU7CgogICAgICAgICAgaWYgKGNvZGUgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpczIuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliJvlu7rmiJDlip8nLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMi5fcmVxdWVzdF9nZXQoKTsKCiAgICAgICAgICAgIF90aGlzMi5yZXNldERpYWxvZygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LCA1MCk7CiAgICB9LAogICAgX3JlcXVlc3RfdXBkYXRlOiBmdW5jdGlvbiBfcmVxdWVzdF91cGRhdGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgTmF2aWdhdGlvbi51cGRhdGVfa2luZChfdGhpczMuZWRpdEtpbmQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgY29kZSA9IHJlc3BvbnNlLmNvZGU7CgogICAgICAgICAgaWYgKGNvZGUgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfmm7TmlrDmiJDlip8nLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMy5fcmVxdWVzdF9nZXQoKTsKCiAgICAgICAgICAgIF90aGlzMy5yZXNldERpYWxvZygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LCA1MCk7CiAgICB9LAogICAgX3JlcXVlc3RfZGVsZXRlOiBmdW5jdGlvbiBfcmVxdWVzdF9kZWxldGUoZGF0YSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIE5hdmlnYXRpb24uZGVsZXRlX2tpbmQoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBjb2RlID0gcmVzcG9uc2UuY29kZTsKCiAgICAgICAgICBpZiAoY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzNC4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXM0Ll9yZXF1ZXN0X2dldCgpOwoKICAgICAgICAgICAgX3RoaXM0LnJlc2V0RGlhbG9nKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sIDUwKTsKICAgIH0sCiAgICBoYW5kbGVDcmVhdGVCdXR0b246IGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZUJ1dHRvbigpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVFZGl0QnV0dG9uOiBmdW5jdGlvbiBoYW5kbGVFZGl0QnV0dG9uKGRhdGEpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5lZGl0S2luZCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZUJ1dHRvbjogZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnV0dG9uKGRhdGEpIHsKICAgICAgdGhpcy5fcmVxdWVzdF9kZWxldGUoZGF0YSk7CgogICAgICB0aGlzLl9yZXF1ZXN0X2dldCgpOwogICAgfSwKICAgIGhhbmRsZURvbmVCdXR0b246IGZ1bmN0aW9uIGhhbmRsZURvbmVCdXR0b24oKSB7CiAgICAgIGlmICh0aGlzLmVkaXRLaW5kLm5hbWUgPT09ICcnIHx8IHRoaXMuZWRpdEtpbmQuc29ydCA9PT0gJycpIHsKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICflpLHotKUnLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+WujOWWhOS/oeaBrycsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCiAgICAgICAgaWYgKHRoaXMuZWRpdEtpbmQuaGFzT3duUHJvcGVydHkoJ2lkJykpIHsKICAgICAgICAgIHRoaXMuX3JlcXVlc3RfdXBkYXRlKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuX3JlcXVlc3RfY3JlYXRlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXREaWFsb2c6IGZ1bmN0aW9uIHJlc2V0RGlhbG9nKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0S2luZCA9IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBzb3J0OiAwCiAgICAgIH07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"margin:20px\">\n    <el-button\n      type=\"primary\"\n      @click=\"handleCreateButton\"\n    >\n      创建分类\n    </el-button>\n    <el-table\n      ref=\"filterTable\"\n      v-loading=\"loading\"\n      :data=\"kinds\"\n      style=\"width: 100%\"\n    >\n      <el-table-column\n        prop=\"id\"\n        label=\"ID\"\n        width=\"60\"\n      />\n      <el-table-column\n        prop=\"name\"\n        label=\"Name\"\n      />\n      <el-table-column\n        prop=\"state\"\n        label=\"状态\"\n      >\n        <template slot-scope=\"scope\">\n          <el-tag\n            :type=\"scope.row.state === 1 ? 'success' : 'danger'\"\n            disable-transitions\n          >\n            <span v-if=\"scope.row.state === 1\">\n              使用中\n            </span>\n            <span v-else>\n              已下架\n            </span>\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"sort\"\n        label=\"排序\"\n      />\n      <el-table-column\n        label=\"编辑\"\n        width=\"120\"\n      >\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n            circle\n            style=\"margin-right:10px;\"\n            @click=\"handleEditButton(scope.row)\"\n          />\n          <el-popconfirm\n            v-if=\"scope.row.state === 1\"\n            title=\"确定删除吗？\"\n            @onConfirm=\"handleDeleteButton(scope.row)\"\n          >\n            <el-button\n              slot=\"reference\"\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              circle\n            />\n          </el-popconfirm>\n          <el-popconfirm\n            v-else\n            title=\"确定上架吗？\"\n            @onConfirm=\"handleDeleteButton(scope.row)\"\n          >\n            <el-button\n              slot=\"reference\"\n              type=\"success\"\n              icon=\"el-icon-check\"\n              circle\n            />\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog\n      :visible.sync=\"dialogVisible\"\n      width=\"40%\"\n      :before-close=\"resetDialog\"\n    >\n      <el-form label-position=\"right\" label-width=\"80px\" :model=\"editKind\">\n        <el-form-item label=\"名称\">\n          <el-input v-model=\"editKind.name\" placeholder=\"使用英文，若有多个英文使用驼峰命名\" />\n        </el-form-item>\n        <el-form-item label=\"排序\">\n          <el-input v-model=\"editKind.sort\" type=\"number\" />\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"resetDialog\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleDoneButton\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { Navigation } from '@/api/navigation'\n\nexport default {\n  name: 'Kind',\n  data() {\n    return {\n      kind: {},\n      kinds: [],\n      dialogVisible: false,\n      loading: false,\n      editKind: {\n        name: '',\n        sort: 0\n      }\n    }\n  },\n  mounted() {\n    this._request_get()\n  },\n  methods: {\n    _request_get() {\n      this.loading = true\n      setTimeout(() => {\n        Navigation.get_kind().then(response => {\n          const { data, code } = response\n          if (code === 200) {\n            this.kinds = data\n          }\n          this.loading = false\n        })\n      }, 500)\n    },\n    _request_create() {\n      setTimeout(() => {\n        Navigation.create_kind(this.editKind).then(response => {\n          const { code } = response\n          if (code === 200) {\n            this.$notify({\n              title: '成功',\n              message: '创建成功',\n              type: 'success'\n            })\n            this._request_get()\n            this.resetDialog()\n          }\n        })\n      }, 50)\n    },\n    _request_update() {\n      setTimeout(() => {\n        Navigation.update_kind(this.editKind).then(response => {\n          const { code } = response\n          if (code === 200) {\n            this.$notify({\n              title: '成功',\n              message: '更新成功',\n              type: 'success'\n            })\n            this._request_get()\n            this.resetDialog()\n          }\n        })\n      }, 50)\n    },\n    _request_delete(data) {\n      setTimeout(() => {\n        Navigation.delete_kind(data).then(response => {\n          const { code } = response\n          if (code === 200) {\n            this.$notify({\n              title: '成功',\n              message: '删除成功',\n              type: 'success'\n            })\n            this._request_get()\n            this.resetDialog()\n          }\n        })\n      }, 50)\n    },\n    handleCreateButton() {\n      this.dialogVisible = true\n    },\n    handleEditButton(data) {\n      this.dialogVisible = true\n      this.editKind = JSON.parse(JSON.stringify(data))\n    },\n    handleDeleteButton(data) {\n      this._request_delete(data)\n      this._request_get()\n    },\n    handleDoneButton() {\n      if (this.editKind.name === '' || this.editKind.sort === '') {\n        this.$notify({\n          title: '失败',\n          message: '请完善信息',\n          type: 'warning'\n        })\n      } else {\n        // eslint-disable-next-line no-prototype-builtins\n        if (this.editKind.hasOwnProperty('id')) {\n          this._request_update()\n        } else {\n          this._request_create()\n        }\n      }\n    },\n    resetDialog() {\n      this.dialogVisible = false\n      this.editKind = {\n        name: '',\n        sort: 0\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views/navigation/kind"}]}